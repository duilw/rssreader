{% extends 'layout.html' %}
{% block body %}
<script type="text/tempalte" id="entry-view-template">
    <div class="entry">
        <span class="clickable entry-title">
        <%= title %>
        </span>
        <%= starred %>
        <%= read %>
        <div class="well entry-content hidden">
            <%= content %>
        </div>
    </div>
</script>

<div id="page" class="top-buffer">
    <div id="alerts">
    </div>

    <div>
        <form class="form-inline" method="post" action="{{ url_for('feeds.subscribe') }}">
            {{ subscribe_form.csrf_token }}
            {{ subscribe_form.url(class="input", placeholder=subscribe_form.url.label.text) }}
            {{ subscribe_form.submit(class="btn btn-medium") }}
        </form>
    </div>

    <div class="row">
        <div class="span3">
            <ul class="sidebar">
                <li>
                <a onclick="$.post('{{ url_for('user.settings_show_read') }}')">show</a>/
                <a onclick="$.post('{{ url_for('user.settings_hide_read') }}')">hide</a> read items
                </li>
            </ul>
            <ul class="sidebar">
                <li>
                <a href="{{ url_for('feeds.list_entries') }}">All items</a>
                </li>
                <li>
                <a href="{{ url_for('feeds.list_entries', starred=1) }}">Starred</a>
                </li>
            </ul>
            <ul class="sidebar">
                {% for feed in feeds %}
                <li>
                <a href="{{ url_for('feeds.single_feed', feed_id=feed.id) }}">
                    {{ feed.get_title()|truncate(20,True) }}
                    {{ feed.get_unread_entries_count() }}
                </a>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="span9">
            <div id="entries">
            </div>
        </div>
    </div>
</div>
{% endblock %}
